Task 1 - Result

curl -X POST http://localhost:3000/auth/login -H "Content-Type: application/json" -d "{\"email\":\"singhsorya@gmail.com\",\"password\":\"password123\"}"

Server running at http://localhost:3000
GET /
GET / -> 304 (37ms)
POST /auth/login
[OTP] Session 236896 generated
POST /auth/login -> 200 (498ms)


{"message":"OTP sent","loginSessionId":"ftf8ze"}

-------------------------------------------------------------

Task 2 - Result

curl -c cookies.txt -X POST http://localhost:3000/auth/verify-otp -H "Content-Type: application/json" -d "{\"loginSessionId\":\"ftf8ze\",\"otp\":236896}"

PPOST /auth/verify-otp
POST /auth/verify-otp -> 200 (7ms)


{"message":"OTP verified","sessionId":"ftf8ze"}

--------------------------------------------------------------

Task 3 - Result

curl -b cookies.txt -X POST http://localhost:3000/auth/token

POST /auth/token
POST /auth/token -> 200 (13ms)

{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNpbmdoc29yeWFAZ21haWwuY29tIiwic2Vzc2lvbklkIjoiZnRmOHplIiwiaWF0IjoxNzcwODkzOTMwLCJleHAiOjE3NzA4OTQ4MzB9.Mvjb6mwkpZ7IV062_DudwTHNFnPoXP1VnGpZSGLaZbQ","expires_in":900}

----------------------------------------------------------------

Task 4 - Result

curl -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNpbmdoc29yeWFAZ21haWwuY29tIiwic2Vzc2lvbklkIjoiZnRmOHplIiwiaWF0IjoxNzcwODkzOTMwLCJleHAiOjE3NzA4OTQ4MzB9.Mvjb6mwkpZ7IV062_DudwTHNFnPoXP1VnGpZSGLaZbQ" http://localhost:3000/protected 

GET /protected
GET /protected -> 200 (7ms)

****SUCCESS MESSAGE****
{"message":"Access granted","user":{"email":"singhsorya@gmail.com","sessionId":"ftf8ze","iat":1770893930,"exp":1770894830},"success_flag":"FLAG-c2luZ2hzb3J5YUBnbWFpbC5jb21fQ09NUExFVEVEX0FTU0lHTk1FTlQ="}